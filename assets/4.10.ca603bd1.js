import{r as P,_ as o,c as T}from"./index.6ba4c711.js";import{_ as I}from"./dynamic-import-helper.f17e3fe2.js";import{c as D,d as V}from"./webgl.1a62ef1a.js";import{S as A}from"./Scene.60732141.js";import{F as R}from"./Floor.7b1674dd.js";import{A as O}from"./Axis.6bda81fc.js";import{C as j,a as f}from"./Controls.4ac6bf05.js";import{c as E,i as u,a as c,b as h,d as l,p as x}from"./mat4.356e1817.js";const M=`#version 300 es
precision mediump float;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat4 uNormalMatrix;
uniform vec3 uLightPosition;
uniform vec4 uLightAmbient;
uniform vec4 uLightDiffuse;
uniform vec4 uMaterialDiffuse;
uniform bool uWireframe;
uniform bool uFixedLight;

in vec3 aVertexPosition;
in vec3 aVertexNormal;
in vec4 aVertexColor;

out vec4 vFinalColor;

void main(void) {
    // If wireframe is enabled, set color to the diffuse property exclusing lights
    if (uWireframe) {
        vFinalColor = uMaterialDiffuse;
    }
    else {
        // Normal
        vec3 N = vec3(uNormalMatrix * vec4(aVertexNormal, 0.0));
        // Normalized light position
        vec3 L = normalize(-uLightPosition);

        // If true, then ensure that light position
        // is appropruately updated
        if (uFixedLight) {
          L = vec3(uNormalMatrix * vec4(L, 0.0));
        }

        float lambertTerm = dot(N, -L);

        if (lambertTerm == 0.0) {
            lambertTerm = 0.01;
        }

        // Ambient
        vec4 Ia = uLightAmbient;
        // Diffuse
        vec4 Id = uMaterialDiffuse * uLightDiffuse * lambertTerm;

        // Set varying to be used inside of fragment shader
        vFinalColor = vec4(vec3(Ia + Id), 1.0);
    }

    gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aVertexPosition, 1.0);
}`,C=`#version 300 es
precision mediump float;

in vec4 vFinalColor;

out vec4 fragColor;

void main(void) {
    fragColor = vFinalColor;
}`,z=async _=>{_.clearColor(.9,.9,.9,1),_.clearDepth(100),_.enable(_.DEPTH_TEST),_.depthFunc(_.LEQUAL);const a=E(),i=E();let d=!1;const s=D(_,M,C,["aVertexPosition","aVertexNormal","aVertexColor"],["uModelViewMatrix","uProjectionMatrix","uNormalMatrix","uLightPosition","uLightAmbient","uLightDiffuse","uMaterialDiffuse","uWireframe","uFixedLight"]),e=new A(_,s);(await Promise.all(P(1,179).map(r=>I(Object.assign({"../models/nissan-gtr/part1.json":()=>o(()=>import("./part1.53bda621.js"),[]),"../models/nissan-gtr/part10.json":()=>o(()=>import("./part10.e5991015.js"),[]),"../models/nissan-gtr/part100.json":()=>o(()=>import("./part100.587a087c.js"),[]),"../models/nissan-gtr/part101.json":()=>o(()=>import("./part101.831f027d.js"),[]),"../models/nissan-gtr/part102.json":()=>o(()=>import("./part102.645c525f.js"),[]),"../models/nissan-gtr/part103.json":()=>o(()=>import("./part103.40c8ab4f.js"),[]),"../models/nissan-gtr/part104.json":()=>o(()=>import("./part104.11d5674e.js"),[]),"../models/nissan-gtr/part105.json":()=>o(()=>import("./part105.dead6148.js"),[]),"../models/nissan-gtr/part106.json":()=>o(()=>import("./part106.e98121ed.js"),[]),"../models/nissan-gtr/part107.json":()=>o(()=>import("./part107.81aaeaa8.js"),[]),"../models/nissan-gtr/part108.json":()=>o(()=>import("./part108.868935c0.js"),[]),"../models/nissan-gtr/part109.json":()=>o(()=>import("./part109.3046e381.js"),[]),"../models/nissan-gtr/part11.json":()=>o(()=>import("./part11.da1bece0.js"),[]),"../models/nissan-gtr/part110.json":()=>o(()=>import("./part110.4ddd108d.js"),[]),"../models/nissan-gtr/part111.json":()=>o(()=>import("./part111.7de6c499.js"),[]),"../models/nissan-gtr/part112.json":()=>o(()=>import("./part112.e1c2b782.js"),[]),"../models/nissan-gtr/part113.json":()=>o(()=>import("./part113.a8d3d3cf.js"),[]),"../models/nissan-gtr/part114.json":()=>o(()=>import("./part114.7f73d2ac.js"),[]),"../models/nissan-gtr/part115.json":()=>o(()=>import("./part115.5d7a98e9.js"),[]),"../models/nissan-gtr/part116.json":()=>o(()=>import("./part116.a2d4dfbb.js"),[]),"../models/nissan-gtr/part117.json":()=>o(()=>import("./part117.d6cc1b87.js"),[]),"../models/nissan-gtr/part118.json":()=>o(()=>import("./part118.ae360775.js"),[]),"../models/nissan-gtr/part119.json":()=>o(()=>import("./part119.96103710.js"),[]),"../models/nissan-gtr/part12.json":()=>o(()=>import("./part12.7b167049.js"),[]),"../models/nissan-gtr/part120.json":()=>o(()=>import("./part120.df636e9b.js"),[]),"../models/nissan-gtr/part121.json":()=>o(()=>import("./part121.4eebfbb9.js"),[]),"../models/nissan-gtr/part122.json":()=>o(()=>import("./part122.f48534e2.js"),[]),"../models/nissan-gtr/part123.json":()=>o(()=>import("./part123.241b793b.js"),[]),"../models/nissan-gtr/part124.json":()=>o(()=>import("./part124.55cd3e15.js"),[]),"../models/nissan-gtr/part125.json":()=>o(()=>import("./part125.233624a8.js"),[]),"../models/nissan-gtr/part126.json":()=>o(()=>import("./part126.0b9d65af.js"),[]),"../models/nissan-gtr/part127.json":()=>o(()=>import("./part127.bf8b9a7d.js"),[]),"../models/nissan-gtr/part128.json":()=>o(()=>import("./part128.82ee1c0f.js"),[]),"../models/nissan-gtr/part129.json":()=>o(()=>import("./part129.71ad7f2a.js"),[]),"../models/nissan-gtr/part13.json":()=>o(()=>import("./part13.99bd62c0.js"),[]),"../models/nissan-gtr/part130.json":()=>o(()=>import("./part130.33a9ca1d.js"),[]),"../models/nissan-gtr/part131.json":()=>o(()=>import("./part131.7614ca4d.js"),[]),"../models/nissan-gtr/part132.json":()=>o(()=>import("./part132.8681a137.js"),[]),"../models/nissan-gtr/part133.json":()=>o(()=>import("./part133.ef9c488f.js"),[]),"../models/nissan-gtr/part134.json":()=>o(()=>import("./part134.8a795e4b.js"),[]),"../models/nissan-gtr/part135.json":()=>o(()=>import("./part135.5c4355ab.js"),[]),"../models/nissan-gtr/part136.json":()=>o(()=>import("./part136.f9df4731.js"),[]),"../models/nissan-gtr/part137.json":()=>o(()=>import("./part137.cab02e8a.js"),[]),"../models/nissan-gtr/part138.json":()=>o(()=>import("./part138.3353891b.js"),[]),"../models/nissan-gtr/part139.json":()=>o(()=>import("./part139.a6e14144.js"),[]),"../models/nissan-gtr/part14.json":()=>o(()=>import("./part14.dd21dc41.js"),[]),"../models/nissan-gtr/part140.json":()=>o(()=>import("./part140.37100e87.js"),[]),"../models/nissan-gtr/part141.json":()=>o(()=>import("./part141.ec36c45a.js"),[]),"../models/nissan-gtr/part142.json":()=>o(()=>import("./part142.31be5e85.js"),[]),"../models/nissan-gtr/part143.json":()=>o(()=>import("./part143.df1ca4ce.js"),[]),"../models/nissan-gtr/part144.json":()=>o(()=>import("./part144.f5158e01.js"),[]),"../models/nissan-gtr/part145.json":()=>o(()=>import("./part145.552d355b.js"),[]),"../models/nissan-gtr/part146.json":()=>o(()=>import("./part146.931168cf.js"),[]),"../models/nissan-gtr/part147.json":()=>o(()=>import("./part147.6cf95fc3.js"),[]),"../models/nissan-gtr/part148.json":()=>o(()=>import("./part148.05ed3c42.js"),[]),"../models/nissan-gtr/part149.json":()=>o(()=>import("./part149.94deca90.js"),[]),"../models/nissan-gtr/part15.json":()=>o(()=>import("./part15.8d1823f9.js"),[]),"../models/nissan-gtr/part150.json":()=>o(()=>import("./part150.a4b3c419.js"),[]),"../models/nissan-gtr/part151.json":()=>o(()=>import("./part151.31692d13.js"),[]),"../models/nissan-gtr/part152.json":()=>o(()=>import("./part152.d2b128bf.js"),[]),"../models/nissan-gtr/part153.json":()=>o(()=>import("./part153.f2c80905.js"),[]),"../models/nissan-gtr/part154.json":()=>o(()=>import("./part154.bd794f0b.js"),[]),"../models/nissan-gtr/part155.json":()=>o(()=>import("./part155.7de82738.js"),[]),"../models/nissan-gtr/part156.json":()=>o(()=>import("./part156.12fc9d3c.js"),[]),"../models/nissan-gtr/part157.json":()=>o(()=>import("./part157.74648b79.js"),[]),"../models/nissan-gtr/part158.json":()=>o(()=>import("./part158.d87b59ea.js"),[]),"../models/nissan-gtr/part159.json":()=>o(()=>import("./part159.cf39214e.js"),[]),"../models/nissan-gtr/part16.json":()=>o(()=>import("./part16.53f939f5.js"),[]),"../models/nissan-gtr/part160.json":()=>o(()=>import("./part160.fc0f72d6.js"),[]),"../models/nissan-gtr/part161.json":()=>o(()=>import("./part161.dcb17061.js"),[]),"../models/nissan-gtr/part162.json":()=>o(()=>import("./part162.870f2d7a.js"),[]),"../models/nissan-gtr/part163.json":()=>o(()=>import("./part163.03369298.js"),[]),"../models/nissan-gtr/part164.json":()=>o(()=>import("./part164.f0f5b26e.js"),[]),"../models/nissan-gtr/part165.json":()=>o(()=>import("./part165.75c785ef.js"),[]),"../models/nissan-gtr/part166.json":()=>o(()=>import("./part166.648b642c.js"),[]),"../models/nissan-gtr/part167.json":()=>o(()=>import("./part167.44c27a41.js"),[]),"../models/nissan-gtr/part168.json":()=>o(()=>import("./part168.37a658f8.js"),[]),"../models/nissan-gtr/part169.json":()=>o(()=>import("./part169.129e0c85.js"),[]),"../models/nissan-gtr/part17.json":()=>o(()=>import("./part17.25131d66.js"),[]),"../models/nissan-gtr/part170.json":()=>o(()=>import("./part170.e87feb9b.js"),[]),"../models/nissan-gtr/part171.json":()=>o(()=>import("./part171.f9785e70.js"),[]),"../models/nissan-gtr/part172.json":()=>o(()=>import("./part172.32a02565.js"),[]),"../models/nissan-gtr/part173.json":()=>o(()=>import("./part173.39e6db78.js"),[]),"../models/nissan-gtr/part174.json":()=>o(()=>import("./part174.0a9bd144.js"),[]),"../models/nissan-gtr/part175.json":()=>o(()=>import("./part175.072da7ae.js"),[]),"../models/nissan-gtr/part176.json":()=>o(()=>import("./part176.23169a6a.js"),[]),"../models/nissan-gtr/part177.json":()=>o(()=>import("./part177.a62032c2.js"),[]),"../models/nissan-gtr/part178.json":()=>o(()=>import("./part178.6783af6a.js"),[]),"../models/nissan-gtr/part18.json":()=>o(()=>import("./part18.da3d20e8.js"),[]),"../models/nissan-gtr/part19.json":()=>o(()=>import("./part19.0ab98256.js"),[]),"../models/nissan-gtr/part2.json":()=>o(()=>import("./part2.f15fa7fa.js"),[]),"../models/nissan-gtr/part20.json":()=>o(()=>import("./part20.98d33dec.js"),[]),"../models/nissan-gtr/part21.json":()=>o(()=>import("./part21.02dbd122.js"),[]),"../models/nissan-gtr/part22.json":()=>o(()=>import("./part22.c1141867.js"),[]),"../models/nissan-gtr/part23.json":()=>o(()=>import("./part23.d398e202.js"),[]),"../models/nissan-gtr/part24.json":()=>o(()=>import("./part24.d7dadfa9.js"),[]),"../models/nissan-gtr/part25.json":()=>o(()=>import("./part25.32ba0c37.js"),[]),"../models/nissan-gtr/part26.json":()=>o(()=>import("./part26.dee4d81a.js"),[]),"../models/nissan-gtr/part27.json":()=>o(()=>import("./part27.d7cce42f.js"),[]),"../models/nissan-gtr/part28.json":()=>o(()=>import("./part28.cb7c8ee5.js"),[]),"../models/nissan-gtr/part29.json":()=>o(()=>import("./part29.5eae8ff0.js"),[]),"../models/nissan-gtr/part3.json":()=>o(()=>import("./part3.e1e28cee.js"),[]),"../models/nissan-gtr/part30.json":()=>o(()=>import("./part30.b70a0b07.js"),[]),"../models/nissan-gtr/part31.json":()=>o(()=>import("./part31.6b1e34f6.js"),[]),"../models/nissan-gtr/part32.json":()=>o(()=>import("./part32.189c97e1.js"),[]),"../models/nissan-gtr/part33.json":()=>o(()=>import("./part33.afaec1c5.js"),[]),"../models/nissan-gtr/part34.json":()=>o(()=>import("./part34.3d989bb7.js"),[]),"../models/nissan-gtr/part35.json":()=>o(()=>import("./part35.5b096132.js"),[]),"../models/nissan-gtr/part36.json":()=>o(()=>import("./part36.1abb0c3f.js"),[]),"../models/nissan-gtr/part37.json":()=>o(()=>import("./part37.4497ec6b.js"),[]),"../models/nissan-gtr/part38.json":()=>o(()=>import("./part38.386d7d08.js"),[]),"../models/nissan-gtr/part39.json":()=>o(()=>import("./part39.263c53af.js"),[]),"../models/nissan-gtr/part4.json":()=>o(()=>import("./part4.332c3f7a.js"),[]),"../models/nissan-gtr/part40.json":()=>o(()=>import("./part40.7b96c6d1.js"),[]),"../models/nissan-gtr/part41.json":()=>o(()=>import("./part41.bce6ea08.js"),[]),"../models/nissan-gtr/part42.json":()=>o(()=>import("./part42.e9385a1f.js"),[]),"../models/nissan-gtr/part43.json":()=>o(()=>import("./part43.b40db76a.js"),[]),"../models/nissan-gtr/part44.json":()=>o(()=>import("./part44.0445505b.js"),[]),"../models/nissan-gtr/part45.json":()=>o(()=>import("./part45.2f1b2176.js"),[]),"../models/nissan-gtr/part46.json":()=>o(()=>import("./part46.adfcc16b.js"),[]),"../models/nissan-gtr/part47.json":()=>o(()=>import("./part47.928d0d5a.js"),[]),"../models/nissan-gtr/part48.json":()=>o(()=>import("./part48.9f073918.js"),[]),"../models/nissan-gtr/part49.json":()=>o(()=>import("./part49.d54ddeb5.js"),[]),"../models/nissan-gtr/part5.json":()=>o(()=>import("./part5.f7f9c75f.js"),[]),"../models/nissan-gtr/part50.json":()=>o(()=>import("./part50.3799e52c.js"),[]),"../models/nissan-gtr/part51.json":()=>o(()=>import("./part51.c1c2ff9d.js"),[]),"../models/nissan-gtr/part52.json":()=>o(()=>import("./part52.cd10c29e.js"),[]),"../models/nissan-gtr/part53.json":()=>o(()=>import("./part53.5be987d9.js"),[]),"../models/nissan-gtr/part54.json":()=>o(()=>import("./part54.c3b8a430.js"),[]),"../models/nissan-gtr/part55.json":()=>o(()=>import("./part55.f5209e8d.js"),[]),"../models/nissan-gtr/part56.json":()=>o(()=>import("./part56.3de3de87.js"),[]),"../models/nissan-gtr/part57.json":()=>o(()=>import("./part57.0e8a6ccd.js"),[]),"../models/nissan-gtr/part58.json":()=>o(()=>import("./part58.f605581e.js"),[]),"../models/nissan-gtr/part59.json":()=>o(()=>import("./part59.fb41fbcb.js"),[]),"../models/nissan-gtr/part6.json":()=>o(()=>import("./part6.ca147581.js"),[]),"../models/nissan-gtr/part60.json":()=>o(()=>import("./part60.34dab9e7.js"),[]),"../models/nissan-gtr/part61.json":()=>o(()=>import("./part61.754b93ce.js"),[]),"../models/nissan-gtr/part62.json":()=>o(()=>import("./part62.4eb25ed1.js"),[]),"../models/nissan-gtr/part63.json":()=>o(()=>import("./part63.00dd2c7b.js"),[]),"../models/nissan-gtr/part64.json":()=>o(()=>import("./part64.154efc09.js"),[]),"../models/nissan-gtr/part65.json":()=>o(()=>import("./part65.b1454ed0.js"),[]),"../models/nissan-gtr/part66.json":()=>o(()=>import("./part66.755290dc.js"),[]),"../models/nissan-gtr/part67.json":()=>o(()=>import("./part67.7c9c8bdc.js"),[]),"../models/nissan-gtr/part68.json":()=>o(()=>import("./part68.e196c31b.js"),[]),"../models/nissan-gtr/part69.json":()=>o(()=>import("./part69.97f64a09.js"),[]),"../models/nissan-gtr/part7.json":()=>o(()=>import("./part7.0b7d9cc4.js"),[]),"../models/nissan-gtr/part70.json":()=>o(()=>import("./part70.e47af862.js"),[]),"../models/nissan-gtr/part71.json":()=>o(()=>import("./part71.3e24917e.js"),[]),"../models/nissan-gtr/part72.json":()=>o(()=>import("./part72.6e4b14fa.js"),[]),"../models/nissan-gtr/part73.json":()=>o(()=>import("./part73.953127c3.js"),[]),"../models/nissan-gtr/part74.json":()=>o(()=>import("./part74.2891097d.js"),[]),"../models/nissan-gtr/part75.json":()=>o(()=>import("./part75.2d98b527.js"),[]),"../models/nissan-gtr/part76.json":()=>o(()=>import("./part76.19793342.js"),[]),"../models/nissan-gtr/part77.json":()=>o(()=>import("./part77.0c00c819.js"),[]),"../models/nissan-gtr/part78.json":()=>o(()=>import("./part78.329ea706.js"),[]),"../models/nissan-gtr/part79.json":()=>o(()=>import("./part79.392d97cc.js"),[]),"../models/nissan-gtr/part8.json":()=>o(()=>import("./part8.c468f14b.js"),[]),"../models/nissan-gtr/part80.json":()=>o(()=>import("./part80.e5686ea6.js"),[]),"../models/nissan-gtr/part81.json":()=>o(()=>import("./part81.7bf5989b.js"),[]),"../models/nissan-gtr/part82.json":()=>o(()=>import("./part82.666449ab.js"),[]),"../models/nissan-gtr/part83.json":()=>o(()=>import("./part83.6fd06533.js"),[]),"../models/nissan-gtr/part84.json":()=>o(()=>import("./part84.6f2b8636.js"),[]),"../models/nissan-gtr/part85.json":()=>o(()=>import("./part85.44cf28a9.js"),[]),"../models/nissan-gtr/part86.json":()=>o(()=>import("./part86.ddc5e952.js"),[]),"../models/nissan-gtr/part87.json":()=>o(()=>import("./part87.46369523.js"),[]),"../models/nissan-gtr/part88.json":()=>o(()=>import("./part88.180c0276.js"),[]),"../models/nissan-gtr/part89.json":()=>o(()=>import("./part89.105e4d75.js"),[]),"../models/nissan-gtr/part9.json":()=>o(()=>import("./part9.e384502b.js"),[]),"../models/nissan-gtr/part90.json":()=>o(()=>import("./part90.5d01c4ba.js"),[]),"../models/nissan-gtr/part91.json":()=>o(()=>import("./part91.b7f6b08a.js"),[]),"../models/nissan-gtr/part92.json":()=>o(()=>import("./part92.edcac7db.js"),[]),"../models/nissan-gtr/part93.json":()=>o(()=>import("./part93.a9d9eebc.js"),[]),"../models/nissan-gtr/part94.json":()=>o(()=>import("./part94.2c188b71.js"),[]),"../models/nissan-gtr/part95.json":()=>o(()=>import("./part95.232adbea.js"),[]),"../models/nissan-gtr/part96.json":()=>o(()=>import("./part96.7b788427.js"),[]),"../models/nissan-gtr/part97.json":()=>o(()=>import("./part97.2c2abe8c.js"),[]),"../models/nissan-gtr/part98.json":()=>o(()=>import("./part98.c1d1eac7.js"),[]),"../models/nissan-gtr/part99.json":()=>o(()=>import("./part99.2ee9b736.js"),[])}),`../models/nissan-gtr/part${r}.json`)))).forEach(r=>{e.add(r)}),e.add(new R(2e3,100)),e.add(new O(2e3));const t=new j("ORBITING_TYPE");t.goHome([0,25,300]),new f(t,_.canvas),s.use(),s.setUniform("uLightPosition","vec3",[100,100,100]),s.setUniform("uLightAmbient","vec4",[.1,.1,.1,1]),s.setUniform("uLightDiffuse","vec4",[.7,.7,.7,1]),s.setUniform("uFixedLight","bool",d),u(a),p(),u(i),c(i,t.getViewTransform()),h(i,i),l(i,i);function p(){x(a,45,_.canvas.width/_.canvas.height,.1,5e3)}function v(){s.setUniform("uModelViewMatrix","mat4",t.getViewTransform()),s.setUniform("uProjectionMatrix","mat4",a),l(i,t.matrix),s.setUniform("uNormalMatrix","mat4",i)}const g=T({"Camera Type":{value:t.type,options:["TRACKING_TYPE","ORBITING_TYPE"],onChange:r=>{t.goHome(),t.type=r}},Dolly:{value:0,min:-100,max:100,step:.1,onChange:r=>t.dolly(r)},Position:{...["X","Y","Z"].reduce((r,n,L)=>(r[n]={value:t.position[L],min:-100,max:300,step:.1,onChange:(b,m)=>{t.setPosition([m.X,m.Y,m.Z])}},r),{})},Rotation:{Elevation:{value:t.elevation,min:-180,max:180,step:.1,onChange:r=>t.setElevation(r)},Azimuth:{value:t.azimuth,min:-180,max:180,step:.1,onChange:r=>t.setAzimuth(r)}},"Static Light Position":{value:d,onChange:r=>s.setUniform("uFixedLight","bool",r)},"Go Home":()=>t.goHome()});return e.start(r=>{_.viewport(0,0,_.canvas.width,_.canvas.height),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT);try{p(),v(),r.forEach(n=>{s.setUniform("uMaterialDiffuse","vec4",n.diffuse),s.setUniform("uWireframe","bool",n.wireframe),V(_,n.vao,n.wireframe?"LINES":"TRIANGLES")})}catch(n){console.error(n)}}),()=>{e.dispose(),g()}};export{z as init};
